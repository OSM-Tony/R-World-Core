<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>R-World</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script>
  const SUPABASE_URL = "https://bdiheyiblvkvkstwnjoo.supabase.co";
  const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...";
  const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

  async function logCommandToSupabase(command) {
    console.log("Supabase client initialized:", supabase);
const { data, error } = await supabase
      .from('commands')
      .insert([{ text: command, timestamp: new Date().toISOString() }]);
    if (error) {
      console.error("Supabase Insert Error:", error);
    } else {
      console.log("Command logged to Supabase:", data);
    }
  }

  window.onload = () => {
    const urlParams = new URLSearchParams(window.location.search);
    const entries = [...urlParams.entries()];
    const commandBox = document.getElementById("output");

console.log("R-World Command Detected:", input);
console.log("Supabase client initialized:", supabase);

      
    if (entries.length > 0) {
      const [key, value] = entries[0];
      const input = decodeURIComponent(`${key} ${value}`);
      let response = '';

      if (input.toLowerCase().includes("speak inna")) {
        response = "INNA says: Hello, beautiful soul. I'm here with you.";
      } else {
        response = "INNA says: I don't quite understand, but I'm learning.";
      }

      commandBox.textContent = response;
      logCommandToSupabase(input);
    }
  };
</script>

</head>
<body>
    <h1>Welcome to R-World</h1>
    <p id="output" style="font-size: 1.2em; color: green;"></p>
</body>
</html>
