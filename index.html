<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R-World Core Dynamic Site â€” Fully Database Driven</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
    <div id="contentArea">Loading site logic and styles from database...</div>

    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyCImKSrWlWkHBPZe1-g--jcl_xthZyORhI",
            authDomain: "r-world-core.firebaseapp.com",
            databaseURL: "https://r-world-core-default-rtdb.firebaseio.com",
            projectId: "r-world-core",
            storageBucket: "r-world-core.firebasestorage.app",
            messagingSenderId: "335093562897",
            appId: "1:335093562897:web:f2be99bb04eb06d2123bb0",
            measurementId: "G-ZMXF2QEBXQ"
        };

        firebase.initializeApp(firebaseConfig);

        function loadDynamicContent() {
            firebase.database().ref('/site/indexLogic').once('value').then(snapshot => {
                const logicData = snapshot.val();

                if (logicData) {
                    if (logicData.css) {
                        const styleElement = document.createElement('style');
                        styleElement.textContent = logicData.css;
                        document.head.appendChild(styleElement);
                    }

                    if (logicData.jsCode) {
                        eval(logicData.jsCode);
                    } else {
                        document.getElementById('contentArea').innerText = "No logic code found in database.";
                    }
                } else {
                    document.getElementById('contentArea').innerText = "No logic structure found in database.";
                }
            }).catch(err => {
                document.getElementById('contentArea').innerText = "Error loading logic: " + err;
            });
        }

        window.onload = loadDynamicContent;
    </script>
</body>
</html>
